# 关于我看了一天的比特币与区块链

### 什么是 Bitcoin & bitcoin？

https://zhuanlan.zhihu.com/p/32968587

bitcoin: 简而言之，比特币就是挖矿给的工作证明。也就是挖矿激励，是一种加密货币。

Bitcoin: 这个指的是整个比特币系统，是[中本聪](https://zh.wikipedia.org/wiki/中本聪)在白皮书中提到的一种去中心化，采用[点对点](https://zh.wikipedia.org/wiki/點對點)网络与[共识主动性](https://zh.wikipedia.org/wiki/共识主动性)，[开放源代码](https://zh.wikipedia.org/wiki/開放原始碼)，以[区块链](https://zh.wikipedia.org/wiki/区块链)作为底层技术的货币系统。

传统的货币系统都依赖于第三方的存在，比如支付宝和银行，而比特币系统是不需要第三方的存在的。

### 比特币为什么会存在？

因为互联网的兴起，以及2008年的经济危机导致有人认识到了，基于第三方的货币系统是不可靠的。于是比特币系统应运而生（也可以说是中本聪的聪明才智）。

他不存在第三方代理（去中心化），所以就不需要担心代理崩掉的情况。

### 什么是区块链？

https://www.ruanyifeng.com/blog/2017/12/blockchain-tutorial.html建议看阮一峰老师的blog。

讲的挺好，有一张很形象的图我就拿来了。主要就是分为两部分，一部分是header记录了上一个block的信息，另外一个部分就是存储的数据，如交易记录。

![bg2017122705](C:\Users\vic\Desktop\bg2017122705.png)

### 什么是挖矿？

https://zhuanlan.zhihu.com/p/32968587这篇真的讲的很好捏。

```text
1、节点收集 10 分钟内全网有效的交易信息；
2、插入一笔包含交易费和系统奖励的交易信息；
3、将交易列表排好顺序，计算出 Merkle Root 写入区块头；
4、找到上一个区块，并计算出它的区块头哈希值写入区块头；
5、获取当前难度目标值；
6、不断调整随机数和 coinbase transaction 扩展字段，使得区块头的哈希值满足要求。 
```

这就是一次“挖矿”的全部过程。

### 什么是分叉？

我们已知**系统中只有最长的那条区块链是有效的**

但假设 A/B 两个节点在同一时刻成功构造区块并广播出去，全网节点中有一半先收到 A 的区块后收到 B 的区块，另一半先收到 B 的区块后收到 A 的区块。

节点会把先后收到的两个区块都接入链尾，以先收到为主链，后收到的为[候选链](https://www.zhihu.com/search?q=候选链&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"article"%2C"sourceId"%3A"32968587"})，并开始以主链为基础继续下一轮“挖矿”。

节点们都按照规则办事，但此时出现了两条“最长的区块链”：

![v2-75628d00e878b7c80907eef65a76fa9e_720w](https://raw.githubusercontent.com/Vikyanite/talks/main/images/v2-75628d00e878b7c80907eef65a76fa9e_720w.png)

这就是传说中的“区块链分叉”问题。



不要担心，如果“挖矿”期间又收到下一个有效区块，其指向的是候选链，那么此时候选链更长，节点会把它切换为主链。

所以，这种“分叉”危机往往只存在一个“挖矿”周期，最后全网又只有一条最长的区块链。因为

> 全网节点中有一半先收到 A 的区块后收到 B 的区块，另一半先收到 B 的区块后收到 A 的区块

这种事情的概率非常小，只要有一次，没有同时发生，那么主链就会确定，所以不用担心一直无限有两条支链。

------

### Thoughts：

好厉害的区块链啊！其思想感觉就是P2P + auth再加上密码学的一大堆很厉害的东西，其中牵扯到的技术感觉看了这么多文章过来，似乎更多的是数学与经济方面上的东西。还看了一篇关于区块链工程师到底是干什么的文章，文章说区块链工程师什么都干，又是工程师，又是技术支持，还是平台维护... 似乎是全能的样子。

不过不知道为什么bitcoin价格那么高，如果说bitcoin跌破了，那么还会有人加入这个distributed system嘛？那这个system不就崩坏了？起码我知道"挖矿"，“区块链”，“比特币”到底是什么东西了，也算是有所收获！